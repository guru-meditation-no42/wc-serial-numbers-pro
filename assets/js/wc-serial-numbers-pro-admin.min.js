!function(o){"use strict";o.wc_serial_numbers_pro_admin=function(){var e=this;e.init=function(){o(document).on("change",".serial_key_source",e.control_keysource_view),o(document).on("woocommerce_variations_loaded",e.control_keysource_view),o(document).on("woocommerce_variations_loaded",e.control_serial_number_settings_view),o(document).on("change",".variable_is_serial",e.control_serial_number_settings_view),o(".column-generate").on("click","input.button",e.generate_serial_numbers)},e.control_keysource_view=function(){o(".serial_key_source").each(function(){if(o(this).is(":checked")){var e=o(this).attr("value");o(this).closest("div").find(".wc-serial-numbers-key-source-settings").each(function(){o(this).data("source")===e?o(this).show():o(this).hide()})}})},e.control_serial_number_settings_view=function(){o(".variable_is_serial").each(function(){var e=o(this).closest(".data");o(this).is(":checked")?e.find(".wc-serial-numbers-variation-settings").show():e.find(".wc-serial-numbers-variation-settings").hide()})},e.generate_serial_numbers=function(e){e.preventDefault();var i=o(this),s=o(this).closest("td"),n=s.find(".serial_count"),t=parseInt(s.find(".serial_count").val(),10),r=parseInt(i.data("id"),10),a=i.data("nonce");return i.attr("disabled","disabled"),n.attr("disabled","disabled"),r&&a||(i.removeAttr("disabled"),alert(wc_serial_numbers_pro_i10n.i18n.something_wrong)),i.next().css({visibility:"visible"}),wp.ajax.send("wc_serial_numbers_generate_serials",{data:{serial_count:t,generator_id:r,nonce:a},success:function(e){e.message&&alert(e.message),i.removeAttr("disabled"),n.removeAttr("disabled"),i.next().css({visibility:"hidden"})},error:function(e){alert(e.message),i.removeAttr("disabled"),n.removeAttr("disabled"),i.next().css({visibility:"hidden"})}}),n.val(""),!1},e.init()},o.fn.wc_serial_numbers_pro_admin=function(){return new o.wc_serial_numbers_pro_admin},o.wc_serial_numbers_pro_admin()}(jQuery,window);